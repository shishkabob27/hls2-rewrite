@using Sandbox;
@using Sandbox.UI;
@using Sandbox.UI.Construct; 
@using System;
@namespace HLS2

<root>
    <IconPanel @ref=Icon></IconPanel>
</root>

@code
{
	public IconPanel Icon;

	public override void Tick()
	{
		var p = Game.LocalPawn as Player;
		if (p == null || !p.HasHEV) return;

		if (p.Inventory.ActiveChild is Weapon weapon)
		{
			Icon.Style.SetBackgroundImage(weapon.CrosshairIcon);
		}
		else
		{
			Icon.Style.SetBackgroundImage("");
		}
	}
}